!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vuedrag",[],e):"object"==typeof exports?exports.vuedrag=e():t.vuedrag=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e){var r={value:{type:Array,required:!1,default:null},tagName:{type:String,required:!1,default:"div"}},n={props:r,data:function(){return{coordinateStart:{}}},render:function(t){var e=this;return t(this.tagName,{on:{dragover:function(){event.preventDefault(),e.$emit("over",event)},drop:function(){e.dragEnd(event),e.$emit("end",event)}}},[this.$scopedSlots.default({dragStart:e.dragStart})])},methods:{dragStart:function(){var t=event.currentTarget;event.dataTransfer.effectAllowed="move",this.coordinateStart={y:event.pageY,index:this.getOrder(t)},this.$emit("start",event)},getOrder:function(t){for(var e=t.parentNode.children,r=0;r<e.length;r++)if(t===e[r])return r},dragEnd:function(t){var e=0;t.preventDefault();for(var r=this.$el,n=r.querySelector(".j-dragItem")||r.children,i=[],o=this.coordinateStart.index,a=0;a<n.length;a++){var u=r.children[a];i.push(u.clientHeight)}var d=t.pageY-this.coordinateStart.y,s=this.value[this.coordinateStart.index];if(0!==d){var c=0,l=d>0?o+1:o-1;if(d>0)for(;l<n.length;l++){if(e=this.getMargin(n[l]),c+=l-1===o?i[l]/2+e:i[l-1]/2+i[l]/2+e,d<c){if(l-1!==o)return this.value.splice(this.coordinateStart.index,1),void this.value.splice(l-1,0,s);return}l===n.length-1&&d>=c&&(this.value.splice(this.coordinateStart.index,1),this.value.splice(l,0,s))}else for(;l>-1;l--){if(e=this.getMargin(n[l].nextSibling),c+=l+1===o?i[l]/2+e:i[l+1]/2+i[l]/2+e,Math.abs(d)<c){if(l+1!==o)return this.value.splice(this.coordinateStart.index,1),void this.value.splice(l+1,0,s);return}0===l&&Math.abs(d)>=c&&(this.value.splice(this.coordinateStart.index,1),this.value.splice(l,0,s))}}},getMargin:function(t){return this.getComputedStyle(t,"marginTop")+this.getComputedStyle(t.previousSibling,"marginBottom")},getComputedStyle:function(t,e,r){return parseFloat(window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[r])}}};t.exports=n},function(t,e){t.exports=function(t,e,r,n){var i,o=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(i=t,o=t.default);var u="function"==typeof o?o.options:o;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),r&&(u._scopeId=r),n){var d=Object.create(u.computed||null);Object.keys(n).forEach(function(t){var e=n[t];d[t]=function(){return e}}),u.computed=d}return{esModule:i,exports:o,options:u}}},function(t,e,r){var n=r(1)(r(0),null,null,null);t.exports=n.exports}])});
